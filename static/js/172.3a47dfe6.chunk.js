"use strict";(self.webpackChunkreact_deploy_test=self.webpackChunkreact_deploy_test||[]).push([[172],{934:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(62),r=a(890);class c{async Search(e){const t=e.collection,a=JSON.parse(JSON.stringify(e.where.query)),c=e.done,l=e.fail;try{const e=(0,s.hJ)(r.R,t);let l=[];a&&(l=this.applyWhereFilters(a));const n=await(0,s.PL)((0,s.IO)(e,...l));let o=[];n.forEach((e=>{const t=e.data();o.push(t)})),c(o)}catch(n){l(n)}}async Update(e){const t=e.collection,a=e.data,c=a._id,l=(0,s.JU)(r.R,t,c),n=e.done,o=e.fail;try{await(0,s.i3)(r.R,(async e=>{if(!(await e.get(l)).exists())throw"Transaction aborted rollback successfully";e.update(l,JSON.parse(JSON.stringify(a)))})),n(!0)}catch(i){o(i)}}applyWhereFilters(e){const t=[">","<",">=","<=","==","!=","in"];let a=[];for(let r in e)if(e.hasOwnProperty(r)){let c=e[r];if("object"===typeof c&&1===Object.keys(c).length){const e=Object.keys(c)[0],l=c[e];t.includes(e)&&a.push((0,s.ar)(r,e,l))}else a.push((0,s.ar)(r,"==",c))}return a}}},172:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(934),r=a(664);const c=(0,r.h)((async e=>{try{r.Z.parameterMustBeFill(e,"_id"),r.Z.parameterMustBeFill(e,"age");let t=new s.Z;return await new Promise(((a,s)=>{t.Update({collection:"Users",data:e,done:a,fail:s})}))}catch(t){throw console.error("UpdateUser hata:",t),t}}))}}]);
//# sourceMappingURL=172.3a47dfe6.chunk.js.map